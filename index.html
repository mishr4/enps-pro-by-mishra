<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MBC ProPrompter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg: #000;
  --text: #fff;
  --accent: #2ea3ff;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: Arial, Helvetica, sans-serif;
  overflow: hidden;
}

/* HEADER */
header {
  position: fixed;
  top: 0;
  width: 100%;
  height: 48px;
  background: #050505;
  display: flex;
  align-items: center;
  padding: 0 16px;
  z-index: 20;
  font-size: 14px;
}

/* VIEWPORT */
#viewport {
  position: absolute;
  top: 48px;
  bottom: 80px;
  width: 100%;
  overflow-y: auto;
  scroll-behavior: smooth;
  padding: 0 18%;
}

/* SCRIPT */
#script {
  font-size: 54px;
  line-height: 1.55;
  text-align: center;
  padding: 80px 0;
}

#script:focus {
  outline: none;
}

/* MARKERS */
.marker {
  display: block;
  margin: 50px 0;
  font-size: 0.75em;
  font-weight: bold;
  color: var(--accent);
}

/* EDGE FADE (REAL PROMPTER LOOK) */
.fade-top, .fade-bottom {
  position: fixed;
  left: 0;
  width: 100%;
  height: 80px;
  pointer-events: none;
  z-index: 10;
}

.fade-top {
  top: 48px;
  background: linear-gradient(to bottom, #000, transparent);
}

.fade-bottom {
  bottom: 80px;
  background: linear-gradient(to top, #000, transparent);
}

/* CONTROLS */
#controls {
  position: fixed;
  bottom: 0;
  width: 100%;
  height: 80px;
  background: #050505;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 14px;
  z-index: 20;
}

button {
  background: #1a1a1a;
  color: white;
  border: none;
  padding: 10px 16px;
  font-size: 14px;
  cursor: pointer;
}

button:hover {
  background: var(--accent);
}

/* COUNTDOWN OVERLAY */
#countdown {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  align-items: center;
  justify-content: center;
  font-size: 120px;
  font-weight: bold;
  z-index: 100;
}
</style>
</head>

<body>

<header>
  MBC ProPrompter â€” Mishra Broadcasting Co.
</header>

<div id="viewport">
  <div id="script" contenteditable="true">
    <span class="marker">ANCHOR</span>
    Good evening. This is MBC News.

    <span class="marker">HEADLINES</span>
    Tensions continue to rise following major developments in Venezuela.

    <span class="marker">STORY</span>
    We begin tonight with breaking details involving former U.S. President Donald Trump and a high-stakes international kidnapping investigation.
  </div>
</div>

<div class="fade-top"></div>
<div class="fade-bottom"></div>

<div id="controls">
  <button onclick="startWithCountdown()">PLAY</button>
  <button onclick="pause()">PAUSE</button>
  <button onclick="reset()">RESET</button>
</div>

<div id="countdown">5</div>

<script>
const viewport = document.getElementById("viewport");
const countdown = document.getElementById("countdown");

let speed = 0.5;
let running = false;
let countdownTimer;

/* MAIN SCROLL LOOP */
function scrollLoop() {
  if (running) {
    viewport.scrollTop += speed;
  }
  requestAnimationFrame(scrollLoop);
}
scrollLoop();

/* PLAY WITH COUNTDOWN */
function startWithCountdown() {
  running = false;
  let count = 5;
  countdown.textContent = count;
  countdown.style.display = "flex";

  countdownTimer = setInterval(() => {
    count--;
    countdown.textContent = count;

    if (count === 0) {
      clearInterval(countdownTimer);
      countdown.style.display = "none";
      running = true;
    }
  }, 1000);
}

/* PAUSE */
function pause() {
  running = false;
}

/* RESET SAFELY */
function reset() {
  running = false;
  viewport.scrollTop = 0;
}

/* KEYBOARD (NEWSROOM STYLE) */
document.addEventListener("keydown", e => {
  if (e.code === "Space") {
    e.preventDefault();
    running = !running;
  }
  if (e.code === "ArrowUp") speed += 0.1;
  if (e.code === "ArrowDown") speed = Math.max(0.1, speed - 0.1);
});
</script>

</body>
</html>
